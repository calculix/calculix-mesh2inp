Convert 2D netgen meshes to calculix input files
################################################

:date: 2019-03-24
:tags: calculix, Python 3
:author: Roland Smith

.. Last modified: 2019-03-24T23:06:41+0100

Introduction
------------

Calculix_ is my FEA program of choice. To function it does require a mesh in
the form of nodes and elements. Since writing these by hand is cumbersome,
I'm using netgen_ for that.

.. _Calculix: http://www.calculix.de/
.. _netgen: https://github.com/NGSolve/netgen

This script takes a 2D netgen mesh containing S6 elements, and converts it to the input format used
by calculix.

Nodes from sirface ID's with a number >100 are considered special and are stored in
node sets. These are useful for boundary conditions.

.. PELICAN_END_SUMMARY

How does it work
----------------

It requires three filenames;
* An existing ``.mesh`` file generated by netgen.
* A file name for nodes and node sets. I'd suggest to use ``nodes.inp``.
* A file name for the elements. I'd suggest to use ``elements.inp``.

The program reads the mesh file and extracts the nodes and elements.
It writes the node coordinates and the node set to the first output file.
The elements are written to the second output file.

At the moment it only handles 2D second order (S6) elements.


Invocation
----------

This program should be run from the directory that contains the mesh file.

.. code-block:: console

    python3 mesh2inp.py <foo>.mesh nodes.inp elements.inp

